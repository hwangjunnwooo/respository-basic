## P3.5 A closed-loop control system is shown in Figure P3.5. (a) Determine the closed-loop transfer function $T(s)=Y(s)/R(s)$. (b) Determine a state variable model and sketch a block diagram model in phase variable form.

(a) 그림을 통해 식을 세우면 다음과 같다 

$$(R(s)-Y(s))\cdot\frac{s+2}{s+8}\cdot\frac{1}{s-3}\cdot\frac{1}{s}=Y(s)$$

$$(R(s)-Y(s))\cdot\frac{s+2}{s^3+5s^2-24s}=Y(s)$$

$$\frac{s+2}{s^3+5s^2-24s} \cdot R(s)=(1+\frac{s+2}{s^3+5s^2-24s})Y(s)$$

$$\frac{s+2}{s^3+5s^2-24s} \cdot R(s)=\frac{s^3+5s^2-23s+2}{s^3+5s^2-24s}\cdot Y(s)$$

$$\frac{s+2}{s^3+5s^2-24s} \cdot \frac{s^3+5s^2-24s}{s^3+5s^2-23s+2} = \frac{Y(s)}{R(s)}$$

$$\frac{Y(s)}{R(s)} =T(s)= \frac{s+2}{s^3+5s^2-23s+2}$$

(b) 위 아래 분자 분모에 Z(s)를 곱한다. 

$$\frac{Y(s)}{R(s)} = \frac{(s+2)\cdot Z(s)}{(s^3+5s^2-23s+2) \cdot Z(s)}$$

$$Y(s) = [s+2]\cdot Z(s)$$

$$R(s) = [s^3+5s^2-23s+2]\cdot Z(s)$$

$$y(t) = z'(t) + 2z(t)$$

$$r(t) = z'''(t) + 5z''(t) - 23z'(t)+2z(t)$$

상태 변수를 다음과 같이 선언한다.  

$$
x(t) = 
\begin{bmatrix}
z(t) \\
z'(t) \\
z''(t)
\end{bmatrix}
$$

$$z'''(t) = -2z(t)+23z'(t)-5z''(t)+r(t)$$

다음 식을 통해 행렬 미분 방정식을 세우면 다음과 같다.  

$$
x'(t) =
\begin{bmatrix}
0 & 1 & 0 \\  
0 & 0 & 1 \\  
-2 & 23 & -5 \\  
\end{bmatrix}
x(t) +
\begin{bmatrix}
0 \\  
0 \\  
1 \\  
\end{bmatrix} 
r(t)
$$  

$$
y(t) =
\begin{bmatrix}
2 & 1 & 0 
\end{bmatrix}
x(t)
$$
